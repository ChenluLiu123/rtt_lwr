<launch>
  <arg name="launch_moveit" default="true"/>
  <arg name="robot_name" default="lwr" unless="$(arg sim)"/>
  <arg name="robot_name" default="lwr_sim" if="$(arg sim)"/>
  <arg name="sim" default="false" />
  <arg name="robot_ns" default="gazebo" if="$(arg sim)"/>
  <arg name="robot_ns" default="" unless="$(arg sim)"/>
  <arg name="tf_prefix" default="" doc="This prefix is used for tht tf"/>
  <arg name="ee_empty" default="true" doc="(bool) True if there is no end-effector"/>
  <arg name="ee_ball" default="false" doc="(bool) True if there is no end-effector"/>
  <arg name="ee_hand" default="false" doc="(bool) True if there is no end-effector"/>
  <arg name="ee_bumblebee" default="false" doc="(bool) True if there is no end-effector"/>

<group ns="$(arg robot_ns)/$(arg robot_name)">
    synchronize_with_commands: false
</group>

<group ns="$(arg robot_ns)/$(arg robot_name)">
    <include file="$(find lwr_moveit_config)/config/controllers_params.launch">
            <arg name="tf_prefix" value="$(arg tf_prefix)"/>
            <arg name="oro_prefix" value=""/>
            <arg name="ee_empty" value="$(arg ee_empty)" />
            <arg name="ee_ball" value="$(arg ee_ball)" />
            <arg name="ee_hand" value="$(arg ee_hand)" />
            <arg name="ee_bumblebee" value="$(arg ee_bumblebee)" />
    </include>
</group>

<!--============ LWR Runner script Params ========-->

    <!-- The end effector frame (you'll be able to use frames <= tip_link for cartesian position, jacobians etc.) -->
    <arg name="tip_link" default="link_7"/>
    <!-- Run Simulated robot (need to 'roslaunch rtt_lwr_gazebo lwr_gazebo.launch' first) -->

    <!-- Run in GDB -->
    <arg name="debug" default="false" />
    <!-- Launch rviz -->
    <arg name="rviz" default="false" />
    <!-- The level of verbose (never, fatal, critical, error, warning, info, debug, realtime) -->
    <arg name="log_level" default="warning" />
    <!-- Tools -->
    <arg name="load_base" default="false" />
    <arg name="load_ati_sensor" default="false" />
    <arg name="load_calib_tool" default="false" />
    <arg name="load_handle" default="false" />
    <arg name="start_paused" default="false"/>
    <!-- Gazebo -->
    <arg name="gazebo_gui" default="false"/>
    <arg name="launch_gazebo" default="true"/>
    <arg name="spawn_in_gazebo_process" default="false"/>


<!--============ LWR Runner script ===============-->

<include file="$(find lwr_launch)/launch/run.launch">
    <arg name="sim" value="$(arg sim)" />
    <!-- Default ops script location for real robot -->
    <arg name="ops_script" value="$(find lwr_moveit_config)/scripts/moveit_runner.ops"/>
    <arg name="robot_ns" value="$(arg robot_ns)"/>
    <arg name="robot_name" value="$(arg robot_name)"/>
    <arg name="debug" value="$(arg debug)" />
    <arg name="rviz" value="$(arg rviz)" />
    <arg name="log_level" value="$(arg log_level)" />
    <arg name="tip_link" value="$(arg tip_link)"/>
    <arg name="load_base" value="$(arg load_base)" />
    <arg name="load_ati_sensor" value="$(arg load_ati_sensor)" />
    <arg name="load_calib_tool" value="$(arg load_calib_tool)" />
    <arg name="load_handle" value="$(arg load_handle)" />
    <arg name="gazebo_gui" value="$(arg gazebo_gui)"/>
    <arg name="launch_gazebo" value="$(arg launch_gazebo)"/>
    <arg name="start_paused" value="$(arg start_paused)"/>
    <arg name="spawn_in_gazebo_process" value="$(arg spawn_in_gazebo_process)"/>
</include>

<include ns="$(arg robot_ns)" file="$(find lwr_moveit_config)/launch/lwr.launch" if="$(arg launch_moveit)"/>

</launch>
